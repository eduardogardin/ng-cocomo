<mat-toolbar color="primary">
    ng-cocomo
</mat-toolbar>

<mat-card>
    <mat-card-title>{{issue.subject}}</mat-card-title>
    <mat-card-content>
        <mat-table #table [dataSource]="dataSource">

            <ng-container matColumnDef="name">
                <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
                <mat-cell *matCellDef="let estimate">{{estimate.name}}</mat-cell>
            </ng-container>   

            <ng-container matColumnDef="low">
                <mat-header-cell *matHeaderCellDef>Low</mat-header-cell>
                <mat-cell *matCellDef="let estimate">
                    <mat-form-field>
                        <input matInput maxLength="2"
                            onClick="this.select();"
                            name="low"
                            [(ngModel)]="estimate.low"
                            (ngModelChange)="updateProp('low', estimate, $event)">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="medium">
                <mat-header-cell *matHeaderCellDef>Medium</mat-header-cell>
                <mat-cell *matCellDef="let estimate">                    
                    <mat-form-field>
                        <input matInput maxLength="2"
                               onClick="this.select();"
                               name="medium"
                               [(ngModel)]="estimate.medium"
                               (ngModelChange)="updateProp('medium', estimate, $event)">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="high">
                <mat-header-cell *matHeaderCellDef>High</mat-header-cell>
                <mat-cell *matCellDef="let estimate">
                    <mat-form-field>
                        <input matInput maxLength="2"
                            onClick="this.select();"
                            name="high"
                            [(ngModel)]="estimate.low"
                            (ngModelChange)="updateProp('high', estimate, $event)">
                    </mat-form-field>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="sum">
                <mat-header-cell *matHeaderCellDef>Sum</mat-header-cell>
                <mat-cell *matCellDef="let estimate" [style.color]="'blue'">{{estimate.sum}}</mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
    </mat-card-content>

    <h2 class="result-text">
        Estimated time: {{this.sumAll()}}
    </h2>

    <mat-card-actions>
        <div class="action-buttons">
            <button mat-raised-button color="warn">Reset</button>
            <button mat-raised-button color="primary">Estimate</button>
        </div>
    </mat-card-actions>
</mat-card>
